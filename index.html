<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>A Financial Calculator • fcl</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="A Financial Calculator">
<meta name="description" content="A financial calculator that provides very fast implementations of common financial indicators using Rust code. It includes functions for bond-related indicators, such as yield to maturity (YTM), modified duration, and Macaulay duration, as well as functions for calculating time-weighted and money-weighted rates of return (using Modified Dietz method) for multiple portfolios, given their market values and profit and loss (PnL) data. fcl is designed to be efficient and accurate for financial analysis and computation. The methods used in this package are based on the following references: &lt;https://en.wikipedia.org/wiki/Modified_Dietz_method&gt;, &lt;https://en.wikipedia.org/wiki/Time-weighted_return&gt;.">
<meta property="og:description" content="A financial calculator that provides very fast implementations of common financial indicators using Rust code. It includes functions for bond-related indicators, such as yield to maturity (YTM), modified duration, and Macaulay duration, as well as functions for calculating time-weighted and money-weighted rates of return (using Modified Dietz method) for multiple portfolios, given their market values and profit and loss (PnL) data. fcl is designed to be efficient and accurate for financial analysis and computation. The methods used in this package are based on the following references: &lt;https://en.wikipedia.org/wiki/Modified_Dietz_method&gt;, &lt;https://en.wikipedia.org/wiki/Time-weighted_return&gt;.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">fcl</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/shrektan/fcl/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="fcl">fcl<a class="anchor" aria-label="anchor" href="#fcl"></a>
</h1></div>
<!-- badges: start -->

<p>A financial calculator written in Rust. It provides simple calculations for bond YTM, Duration, etc.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You’ll need the rust toolchain to compile this package from the source.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/shrektan/fcl" class="external-link">fcl</a></span><span class="op">)</span></span>
<span><span class="co">## basic example code</span></span>
<span><span class="va">bond</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fixed_bond.html">fixed_bond</a></span><span class="op">(</span></span>
<span>  value_date <span class="op">=</span> <span class="fl">210101</span>,</span>
<span>  mty_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">250101</span>, <span class="fl">300201</span><span class="op">)</span>,</span>
<span>  redem_value <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  cpn_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.03</span><span class="op">)</span>,</span>
<span>  cpn_freq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">bond</span><span class="op">$</span><span class="fu">ytm_dur</span><span class="op">(</span></span>
<span>  ref_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">220101</span>, <span class="fl">220201</span><span class="op">)</span>,</span>
<span>  clean_price <span class="op">=</span> <span class="fl">100</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;          YTM     MACD     MODD</span></span>
<span><span class="co">#&gt; 1 0.04552728 3.000000 2.869366</span></span>
<span><span class="co">#&gt; 2 0.02999755 7.212793 7.002728</span></span>
<span><span class="va">bond</span><span class="op">$</span><span class="fu">cf</span><span class="op">(</span></span>
<span>  ref_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">220101</span>, <span class="fl">220131</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;    ID       DATE     COUPON REDEM</span></span>
<span><span class="co">#&gt; 1   1 2025-01-01 20.0000000   100</span></span>
<span><span class="co">#&gt; 2   2 2023-01-01  3.0000000     0</span></span>
<span><span class="co">#&gt; 3   2 2024-01-01  3.0000000     0</span></span>
<span><span class="co">#&gt; 4   2 2025-01-01  3.0000000     0</span></span>
<span><span class="co">#&gt; 5   2 2026-01-01  3.0000000     0</span></span>
<span><span class="co">#&gt; 6   2 2027-01-01  3.0000000     0</span></span>
<span><span class="co">#&gt; 7   2 2028-01-01  3.0000000     0</span></span>
<span><span class="co">#&gt; 8   2 2029-01-01  3.0000000     0</span></span>
<span><span class="co">#&gt; 9   2 2030-01-01  3.0000000     0</span></span>
<span><span class="co">#&gt; 10  2 2030-02-01  0.2547945   100</span></span>
<span></span>
<span><span class="va">rtn</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/make_rtn.html">make_rtn</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">210101</span>, <span class="fl">210105</span>, <span class="fl">210110</span><span class="op">)</span>, mv <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">123</span>, <span class="fl">140</span><span class="op">)</span>, pl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">rtn</span><span class="op">$</span><span class="fu">twrr_cr</span><span class="op">(</span><span class="fl">210102</span>, <span class="fl">210110</span><span class="op">)</span></span>
<span><span class="co">#&gt;               TWRR_CR</span></span>
<span><span class="co">#&gt; 2021-01-02 0.00000000</span></span>
<span><span class="co">#&gt; 2021-01-03 0.00000000</span></span>
<span><span class="co">#&gt; 2021-01-04 0.00000000</span></span>
<span><span class="co">#&gt; 2021-01-05 0.02500000</span></span>
<span><span class="co">#&gt; 2021-01-06 0.02500000</span></span>
<span><span class="co">#&gt; 2021-01-07 0.02500000</span></span>
<span><span class="co">#&gt; 2021-01-08 0.02500000</span></span>
<span><span class="co">#&gt; 2021-01-09 0.02500000</span></span>
<span><span class="co">#&gt; 2021-01-10 0.07894737</span></span>
<span><span class="va">rtn</span><span class="op">$</span><span class="fu">twrr_dr</span><span class="op">(</span><span class="fl">210102</span>, <span class="fl">210110</span><span class="op">)</span></span>
<span><span class="co">#&gt;               TWRR_DR</span></span>
<span><span class="co">#&gt; 2021-01-02 0.00000000</span></span>
<span><span class="co">#&gt; 2021-01-03 0.00000000</span></span>
<span><span class="co">#&gt; 2021-01-04 0.00000000</span></span>
<span><span class="co">#&gt; 2021-01-05 0.02500000</span></span>
<span><span class="co">#&gt; 2021-01-06 0.00000000</span></span>
<span><span class="co">#&gt; 2021-01-07 0.00000000</span></span>
<span><span class="co">#&gt; 2021-01-08 0.00000000</span></span>
<span><span class="co">#&gt; 2021-01-09 0.00000000</span></span>
<span><span class="co">#&gt; 2021-01-10 0.05263158</span></span>
<span><span class="va">rtn</span><span class="op">$</span><span class="fu">dietz</span><span class="op">(</span><span class="fl">210102</span>, <span class="fl">210110</span><span class="op">)</span></span>
<span><span class="co">#&gt;                 DIETZ</span></span>
<span><span class="co">#&gt; 2021-01-02 0.00000000</span></span>
<span><span class="co">#&gt; 2021-01-03 0.00000000</span></span>
<span><span class="co">#&gt; 2021-01-04 0.00000000</span></span>
<span><span class="co">#&gt; 2021-01-05 0.02857143</span></span>
<span><span class="co">#&gt; 2021-01-06 0.02777778</span></span>
<span><span class="co">#&gt; 2021-01-07 0.02727273</span></span>
<span><span class="co">#&gt; 2021-01-08 0.02692308</span></span>
<span><span class="co">#&gt; 2021-01-09 0.02666667</span></span>
<span><span class="co">#&gt; 2021-01-10 0.08737864</span></span>
<span><span class="va">rtn</span><span class="op">$</span><span class="fu">dietz_avc</span><span class="op">(</span><span class="fl">210102</span>, <span class="fl">210110</span><span class="op">)</span></span>
<span><span class="co">#&gt;            DIETZ_AVC</span></span>
<span><span class="co">#&gt; 2021-01-02  100.0000</span></span>
<span><span class="co">#&gt; 2021-01-03  100.0000</span></span>
<span><span class="co">#&gt; 2021-01-04  100.0000</span></span>
<span><span class="co">#&gt; 2021-01-05  105.0000</span></span>
<span><span class="co">#&gt; 2021-01-06  108.0000</span></span>
<span><span class="co">#&gt; 2021-01-07  110.0000</span></span>
<span><span class="co">#&gt; 2021-01-08  111.4286</span></span>
<span><span class="co">#&gt; 2021-01-09  112.5000</span></span>
<span><span class="co">#&gt; 2021-01-10  114.4444</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=fcl" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/shrektan/fcl/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/shrektan/fcl/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing fcl</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Xianying Tan <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-6072-3521" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/shrektan/fcl/actions" class="external-link"><img src="https://github.com/shrektan/fcl/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://CRAN.R-project.org/package=fcl" class="external-link"><img src="https://www.r-pkg.org/badges/version/fcl" alt="CRAN status"></a></li>
<li><a href="https://coveralls.io/github/shrektan/fcl?branch=main" class="external-link"><img src="https://coveralls.io/repos/github/shrektan/fcl/badge.svg?branch=main" alt="Coverage Status"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Xianying Tan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
